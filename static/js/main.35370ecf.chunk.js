(this["webpackJsonpywc18-homework"]=this["webpackJsonpywc18-homework"]||[]).push([[0],{291:function(e,c,n){"use strict";n.r(c);var t=n(52),a=n(5),s=n(0),r=n.n(s),l=n(31),i=n.n(l),j=n(104),o=n.n(j),d=n(133),b=n(36),u=n(134),h=n.n(u),m=n(296),O=n(295),x=n(293),p=n(294),v=n(300),g=n(53);function f(){var e=Object(t.a)(["\n  background-color: #27397c;\n  .ant-breadcrumb a {\n    color: white;\n  }\n  .ant-breadcrumb-separator {\n    color: white;\n  }\n  .ant-breadcrumb > span:last-child {\n    color: white;\n  }\n"]);return f=function(){return e},e}function y(){var e=Object(t.a)(["\n  height: 50px;\n  width: auto;\n"]);return y=function(){return e},e}var N=m.a.Search,w=O.a.Option,S=g.b.img(y()),I=g.b.div(f()),k=r.a.memo((function(e){var c=e.province,n=e.provinces,t=e.searchFilter,r=e.searchQuery,l=(e.categories,e.showDrawer),i=Object(s.useState)(r),j=Object(b.a)(i,2),o=j[0],d=j[1],u=x.a.useForm(),h=Object(b.a)(u,1)[0];h.setFieldsValue({province:c});return Object(a.jsxs)("div",{children:[Object(a.jsx)("nav",{className:"bg-white",children:Object(a.jsxs)("div",{className:"container d-flex justify-content-between py-2",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(S,{className:"d-md-none",src:"/ywc18-homework/images/halfhalf-logo-mini.png",alt:"..."}),Object(a.jsx)(S,{className:"d-none d-md-block",src:"/ywc18-homework/images/halfhalf-logo.png",alt:"..."})]}),c?Object(a.jsxs)("div",{className:"w-100 px-4 pt-2 d-flex justify-content-between",children:[Object(a.jsx)(x.a,{form:h,className:"d-none d-md-block",children:Object(a.jsx)(x.a.Item,{name:"province",children:Object(a.jsxs)(O.a,{style:{width:"150px"},onChange:function(e){t(null,e,null,null,null)},className:"select-before",children:[Object(a.jsx)(w,{value:"all",children:"\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),n.map((function(e,c){return Object(a.jsx)(w,{value:c+"",children:e})}))]})})}),Object(a.jsx)(N,{value:o,onChange:function(e){d(e.target.value)},onSearch:function(e){t(e,null,null,null,null)},placeholder:"\u0e04\u0e49\u0e19\u0e2b\u0e32 \u0e0a\u0e37\u0e48\u0e2d \u0e23\u0e49\u0e32\u0e19\u0e2d\u0e32\u0e2b\u0e32\u0e23 \u0e41\u0e25\u0e30\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e14\u0e37\u0e48\u0e21 \u0e23\u0e49\u0e32\u0e19\u0e18\u0e07\u0e1f\u0e49\u0e32 \u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32 OTOP \u0e41\u0e25\u0e30\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e17\u0e31\u0e48\u0e27\u0e44\u0e1b",enterButton:!0})]}):Object(a.jsx)("div",{}),Object(a.jsx)("div",{onClick:l,className:"d-md-none pt-1",style:{fontSize:"20px"},children:Object(a.jsx)(v.a,{})})]})}),Object(a.jsx)(I,{children:Object(a.jsx)("div",{className:"container py-2",children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(p.a.Item,{children:Object(a.jsx)("a",{href:"",children:"\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01"})}),Object(a.jsx)(p.a.Item,{children:"\u0e04\u0e49\u0e19\u0e2b\u0e32"})]})})})]})})),F=n(298),C=n(70),L=n(301),T=n(302),H=n(303);function P(){var e=Object(t.a)(["\n  border-radius: 50px;\n  border: 1px solid #4ece39;\n  padding: 10px 14px;\n  color: #4ece39;\n  font-size: 18px;\n"]);return P=function(){return e},e}function Q(){var e=Object(t.a)(["\n  width: 100%;\n  height: 224px;\n  object-fit: cover;\n  @media only screen and (min-width: 767px) {\n    width: 224px;\n  }\n"]);return Q=function(){return e},e}var z=g.b.img(Q()),D=g.b.span(P());function R(e){var c,n=e.merchant;return Object(a.jsxs)("div",{className:"border pb-2 pb-md-0 w-100 d-block d-md-flex justify-contect-between",style:{width:"18rem"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(z,{src:n.coverImageId,className:"card-img-top",alt:"..."})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("h5",{className:"card-title",children:[n.shopNameTH," ",Object(a.jsx)("span",{className:"py-1 px-2 text-light rounded ml-2",style:{backgroundColor:"Y"===n.isOpen?"#4ece39":"grey",fontSize:"14px"},children:"Y"===n.isOpen?"\u0e40\u0e1b\u0e34\u0e14\u0e2d\u0e22\u0e39\u0e48":"\u0e1b\u0e34\u0e14\u0e41\u0e25\u0e49\u0e27"})]}),Object(a.jsxs)("p",{className:"card-text",style:{color:"#afafaf"},children:[Object(a.jsx)("span",{className:"mr-2",children:n.categoryName}),"|",Object(a.jsx)("span",{className:"mx-2",children:["","","",""].map((function(e,c){return Object(a.jsx)("span",{style:{color:c<n.priceLevel?"black":""},children:"\u0e3f"},c)}))}),"|",Object(a.jsxs)("span",{className:"ml-2",children:[n.addressDistrictName," ",n.addressProvinceName]})]}),Object(a.jsx)("div",{className:"border w-75"}),Object(a.jsx)("div",{className:"mt-2",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:(c=n.highlightText,{__html:c}),className:"editor"})}),Object(a.jsxs)("div",{className:"mt-1",children:[Object(a.jsx)("b",{children:"\u0e40\u0e21\u0e19\u0e39\u0e41\u0e19\u0e30\u0e19\u0e33: "}),Object(a.jsx)("span",{children:n.recommendedItems.map((function(e,c){return c+1!==n.recommendedItems.length?Object(a.jsxs)("span",{children:[e,", "]},c):Object(a.jsx)("span",{children:e},c)}))})]}),Object(a.jsx)("div",{className:"mt-3",children:Object(a.jsx)("span",{children:n.facilities.map((function(e,c){return"\u0e17\u0e35\u0e48\u0e08\u0e2d\u0e14\u0e23\u0e16"===e?Object(a.jsx)(D,{className:"mr-2",children:Object(a.jsx)(L.a,{})}):"\u0e23\u0e31\u0e1a\u0e08\u0e2d\u0e07\u0e25\u0e48\u0e27\u0e07\u0e2b\u0e19\u0e49\u0e32"===e?Object(a.jsx)(D,{className:"mr-2",children:Object(a.jsx)(T.a,{})}):Object(a.jsx)(D,{className:"mr-2",children:Object(a.jsx)(H.a,{})})}))})})]})]})}var B=n(297),E=O.a.Option,G=r.a.memo((function(e){var c=e.searchFilter,n=e.category,t=e.subcategory,s=e.province,r=e.price,l=e.categories,i=e.provinces,j=e.prices,o={display:"block",height:"30px",lineHeight:"30px"},d=x.a.useForm(),u=Object(b.a)(d,1)[0];u.setFieldsValue({category:n,province:s,price:r,subcategory:t});return Object(a.jsx)("div",{className:"border p-3",children:Object(a.jsxs)(x.a,{form:u,children:[Object(a.jsxs)("div",{className:"mb-4",children:[Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32"})}),Object(a.jsx)(x.a.Item,{name:"category",children:Object(a.jsxs)(B.a.Group,{onChange:function(e){c(null,null,e.target.value,"all",null)},children:[Object(a.jsx)(B.a,{style:o,value:"all",children:"\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),l.map((function(e,c){return Object(a.jsx)(B.a,{style:o,value:c+"",children:e.name},c)}))]})})]}),Object(a.jsxs)("div",{className:"mb-4",children:[Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"\u0e08\u0e31\u0e07\u0e2b\u0e27\u0e31\u0e14/\u0e43\u0e01\u0e25\u0e49\u0e09\u0e31\u0e19"})}),Object(a.jsx)(x.a.Item,{name:"province",children:Object(a.jsxs)(O.a,{style:{width:"100%"},onChange:function(e){c(null,e,null,null,null)},children:[Object(a.jsx)(E,{value:"all",children:"\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),i.map((function(e,c){return Object(a.jsx)(E,{value:c+"",children:e},c)}))]})})]}),Object(a.jsxs)("div",{className:"mb-4",children:[Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"\u0e23\u0e32\u0e04\u0e32"})}),Object(a.jsx)(x.a.Item,{name:"price",children:Object(a.jsxs)(O.a,{style:{width:"100%"},onChange:function(e){c(null,null,null,null,e)},children:[Object(a.jsx)(E,{value:"all",children:"\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),j.map((function(e,c){return Object(a.jsx)(E,{value:c+"",children:e},c)}))]})})]}),n?Object(a.jsx)("div",{children:"all"===n?Object(a.jsx)("div",{}):Object(a.jsxs)("div",{className:"mb-4",children:[Object(a.jsx)("p",{children:Object(a.jsxs)("b",{children:["\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17",n]})}),Object(a.jsx)(x.a.Item,{name:"subcategory",children:Object(a.jsxs)(B.a.Group,{onChange:function(e){c(null,null,null,e.target.value,null)},children:[Object(a.jsx)(B.a,{style:o,value:"all",children:"\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),l[parseInt(n)].subcategories.map((function(e,c){return Object(a.jsx)(B.a,{style:o,value:c+"",children:e},c)}))]})})]})}):Object(a.jsx)("div",{})]})})}));var J=function(){var e=Object(s.useState)(!0),c=Object(b.a)(e,2),n=c[0],t=c[1],r=Object(s.useState)(!0),l=Object(b.a)(r,2),i=l[0],j=l[1],u=Object(s.useState)(null),m=Object(b.a)(u,2),O=m[0],x=m[1],p=Object(s.useState)(null),v=Object(b.a)(p,2),g=v[0],f=v[1],y=Object(s.useState)(""),N=Object(b.a)(y,2),w=N[0],S=N[1],I=Object(s.useState)(null),L=Object(b.a)(I,2),T=L[0],H=L[1],P=Object(s.useState)(null),Q=Object(b.a)(P,2),z=Q[0],D=Q[1],B=Object(s.useState)(null),E=Object(b.a)(B,2),J=E[0],M=E[1],V=Object(s.useState)(!1),Y=Object(b.a)(V,2),_=Y[0],U=Y[1],q=Object(s.useState)(!1),A=Object(b.a)(q,2),K=A[0],W=A[1],X=Object(s.useState)(null),Z=Object(b.a)(X,2),$=Z[0],ee=Z[1];Object(s.useEffect)((function(){var e=new URLSearchParams(window.location.search),c=e.get("searchQuery"),n=e.get("province"),t=e.get("category"),a=e.get("subcategory"),s=e.get("price");null===c||null===n||null===t||null===a||null===s?(window.history.pushState(null,"","?searchQuery=&province=all&category=all&subcategory=all&price=all"),U(!_)):(x(t),S(c),H(n),D(s),f(a),ce(s,n,c))}),[_]);var ce=function(){var e=Object(d.a)(o.a.mark((function e(c,n,a){var s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://panjs.com/ywc18.json").then((function(e){return ee(e.data),j(!1),e.data}));case 2:return s=e.sent,e.next=5,s.merchants.filter((function(e){return"all"===n&&""===a&&"all"!==c?e.priceLevel-1+""===c:"all"===c&&""===a&&"all"!==n?e.addressProvinceName===s.provinces[parseInt(n)]:"all"===c&&"all"===n&&""!==a?-1!==e.shopNameTH.search(a):"all"!==c&&"all"!==n&&""===a?e.addressProvinceName===s.provinces[parseInt(n)]&&e.priceLevel-1+""===c:"all"!==c&&""!==a&&"all"===n?-1!==e.shopNameTH.search(a)&&e.priceLevel-1+""===c:""!==a&&"all"!==n&&"all"===c?e.addressProvinceName===s.provinces[parseInt(n)]&&-1!==e.shopNameTH.search(a):e}));case 5:r=e.sent,M(r),t(!1);case 8:case"end":return e.stop()}}),e)})));return function(c,n,t){return e.apply(this,arguments)}}(),ne=function(e,c,n,t,a){window.history.pushState(null,"","?searchQuery=".concat(null===e?w:e,"&province=").concat(null===c?T:c,"&category=").concat(null===n?O:n,"&subcategory=").concat(null===t?g:t,"&price=").concat(null===a?z:a)),U(!_)};return i?Object(a.jsx)(a.Fragment,{}):Object(a.jsxs)("div",{children:[Object(a.jsx)(k,{searchFilter:ne,searchQuery:w,province:T,provinces:$.provinces,categories:$.categories,showDrawer:function(){W(!0)}}),Object(a.jsx)(F.a,{title:"\u0e01\u0e23\u0e2d\u0e01\u0e1c\u0e25",placement:"right",closable:!1,onClose:function(){W(!1)},visible:K,children:Object(a.jsx)(G,{searchFilter:ne,category:O,subcategory:g,province:T,price:z,categories:$.categories,provinces:$.provinces,prices:$.priceRange})}),Object(a.jsxs)("div",{className:"container mb-5",children:[Object(a.jsxs)("div",{className:"py-3",children:["\u0e1c\u0e25\u0e01\u0e32\u0e23\u0e04\u0e49\u0e19\u0e2b\u0e32"," ","all"!==O&&O?$.categories[parseInt(O)].name:""," ","\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"]}),Object(a.jsx)("div",{className:"col-12",children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-md-4 d-none d-md-block",children:Object(a.jsx)(G,{searchFilter:ne,category:O,subcategory:g,province:T,price:z,categories:$.categories,provinces:$.provinces,prices:$.priceRange})}),n?Object(a.jsx)("div",{children:"Loading..."}):Object(a.jsx)("div",{className:"col-12 col-md-8",children:0===J.length?Object(a.jsxs)("div",{className:"text-center pt-5",children:[Object(a.jsx)("h1",{children:"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e2a\u0e16\u0e32\u0e19\u0e17\u0e35\u0e48\u0e17\u0e35\u0e48\u0e04\u0e38\u0e13\u0e01\u0e33\u0e25\u0e31\u0e07\u0e2b\u0e32"}),"\u0e23\u0e49\u0e32\u0e19\u0e04\u0e49\u0e32\u0e17\u0e35\u0e48\u0e17\u0e48\u0e32\u0e19\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e2d\u0e32\u0e08\u0e44\u0e21\u0e48\u0e44\u0e14\u0e49\u0e40\u0e02\u0e49\u0e32\u0e23\u0e48\u0e27\u0e21\u0e42\u0e04\u0e23\u0e07\u0e01\u0e32\u0e23 \u0e04\u0e19\u0e25\u0e30\u0e04\u0e23\u0e36\u0e48\u0e07"]}):Object(a.jsxs)(a.Fragment,{children:[J.map((function(e,c){return Object(a.jsx)("div",{className:"mb-2",children:Object(a.jsx)(R,{merchant:e})},c)})),Object(a.jsx)("div",{className:"container text-center mt-4",children:Object(a.jsx)(C.a,{className:"col-12 col-md-4",children:"\u0e14\u0e39\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e40\u0e15\u0e34\u0e21"})})]})})]})})]})]})};n(290);function M(){var e=Object(t.a)(["\n  body {\n    margin: 0\n  }\n  .anticon {\n    vertical-align: 0em;\n  }\n"]);return M=function(){return e},e}var V=Object(g.a)(M());i.a.render(Object(a.jsxs)(r.a.StrictMode,{children:[Object(a.jsx)(V,{}),Object(a.jsx)(J,{})]}),document.getElementById("root"))}},[[291,1,2]]]);
//# sourceMappingURL=main.35370ecf.chunk.js.map