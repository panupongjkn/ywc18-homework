{"version":3,"sources":["components/Navbar.js","components/MerchantCard.js","components/Filter.js","App.js","index.js"],"names":["Search","Input","Option","Select","Logo","styled","img","BreadcrumbBar","div","Navbar","React","memo","province","provinces","searchFilter","searchQuery","showDrawer","categories","useState","search","setSearch","Form","useForm","form","setFieldsValue","className","src","process","alt","Item","name","style","width","onChange","value","map","key","e","target","onSearch","placeholder","enterButton","onClick","fontSize","FilterOutlined","href","ImageCover","FacilityIcon","span","Card","body","merchant","coverImageId","shopNameTH","backgroundColor","isOpen","color","categoryName","_","priceLevel","addressDistrictName","addressProvinceName","dangerouslySetInnerHTML","highlightText","__html","recommendedItems","recommended","length","facilities","facility","CarOutlined","QqOutlined","FileAddOutlined","category","subcategory","price","prices","radioStyle","display","height","lineHeight","Group","pricemap","parseInt","subcategories","subcate","App","loading","setLoading","loadingData","setLoadingData","setCategory","setSubCategory","setSearchQuery","setProvince","setPrice","merchants","setMerchants","filter","setFilter","visible","setVisible","data","setData","useEffect","urlParams","URLSearchParams","window","location","searchQueryParam","get","provinceParam","categoryParam","subcategoryParam","priceParam","history","pushState","setMerchantsBySearch","priceFetch","provinceFetch","searchQueryFetch","a","axios","then","res","dataFetch","merchantmap","merchantsQuery","searchQueryProps","provinceProps","categoryProps","subcategoryProps","priceProps","title","placement","closable","onClose","priceRange","GlobalStyle","createGlobalStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.35370ecf.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Form, Input, Select, Breadcrumb } from \"antd\";\r\nimport { FilterOutlined } from \"@ant-design/icons\";\r\nimport styled from \"styled-components\";\r\n\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\n\r\nconst Logo = styled.img`\r\n  height: 50px;\r\n  width: auto;\r\n`;\r\n\r\nconst BreadcrumbBar = styled.div`\r\n  background-color: #27397c;\r\n  .ant-breadcrumb a {\r\n    color: white;\r\n  }\r\n  .ant-breadcrumb-separator {\r\n    color: white;\r\n  }\r\n  .ant-breadcrumb > span:last-child {\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst Navbar = React.memo(\r\n  ({ province, provinces, searchFilter, searchQuery, categories, showDrawer }) => {\r\n    const [search, setSearch] = useState(searchQuery);\r\n    const [form] = Form.useForm();\r\n\r\n    form.setFieldsValue({ province: province });\r\n\r\n    const onFilterProvince = (value) => {\r\n      searchFilter(null, value, null, null, null);\r\n    };\r\n\r\n    const onSearch = (value) => {\r\n      searchFilter(value, null, null, null, null);\r\n    };\r\n\r\n    const onChangeSearch = (e) => {\r\n      setSearch(e.target.value);\r\n    };\r\n    // const options = categories.map((category) => {\r\n    //   return { value: category.name };\r\n    // });\r\n    return (\r\n      <div>\r\n        <nav className=\"bg-white\">\r\n          <div className=\"container d-flex justify-content-between py-2\">\r\n            <div>\r\n              <Logo\r\n                className=\"d-md-none\"\r\n                src={process.env.PUBLIC_URL + \"/images/halfhalf-logo-mini.png\"}\r\n                alt=\"...\"\r\n              />\r\n              <Logo\r\n                className=\"d-none d-md-block\"\r\n                src={process.env.PUBLIC_URL + \"/images/halfhalf-logo.png\"}\r\n                alt=\"...\"\r\n              />\r\n            </div>\r\n            {province ? (\r\n              <div className=\"w-100 px-4 pt-2 d-flex justify-content-between\">\r\n                <Form form={form} className=\"d-none d-md-block\">\r\n                  <Form.Item name=\"province\">\r\n                    <Select\r\n                      style={{ width: \"150px\" }}\r\n                      onChange={onFilterProvince}\r\n                      className=\"select-before\"\r\n                    >\r\n                      <Option value=\"all\">สถานที่ทั้งหมด</Option>\r\n                      {provinces.map((province, key) => {\r\n                        return <Option value={key + \"\"}>{province}</Option>;\r\n                      })}\r\n                    </Select>\r\n                  </Form.Item>\r\n                </Form>\r\n                {/* <AutoComplete className=\"w-100\" options={options}> */}\r\n                <Search\r\n                  value={search}\r\n                  onChange={onChangeSearch}\r\n                  onSearch={onSearch}\r\n                  placeholder=\"ค้นหา ชื่อ ร้านอาหาร และเครื่องดื่ม ร้านธงฟ้า ร้านค้า OTOP และสินค้าทั่วไป\"\r\n                  enterButton\r\n                />\r\n                {/* </AutoComplete> */}\r\n              </div>\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n            <div onClick={showDrawer} className=\"d-md-none pt-1\" style={{ fontSize: \"20px\" }}>\r\n              <FilterOutlined />\r\n            </div>\r\n          </div>\r\n        </nav>\r\n        <BreadcrumbBar>\r\n          <div className=\"container py-2\">\r\n            <Breadcrumb>\r\n              <Breadcrumb.Item>\r\n                <a href=\"\">หน้าหลัก</a>\r\n              </Breadcrumb.Item>\r\n              <Breadcrumb.Item>ค้นหา</Breadcrumb.Item>\r\n            </Breadcrumb>\r\n          </div>\r\n        </BreadcrumbBar>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport default Navbar;\r\n","import styled from \"styled-components\";\r\nimport { CarOutlined, QqOutlined, FileAddOutlined } from \"@ant-design/icons\";\r\n\r\nconst ImageCover = styled.img`\r\n  width: 100%;\r\n  height: 224px;\r\n  object-fit: cover;\r\n  @media only screen and (min-width: 767px) {\r\n    width: 224px;\r\n  }\r\n`;\r\n\r\nconst FacilityIcon = styled.span`\r\n  border-radius: 50px;\r\n  border: 1px solid #4ece39;\r\n  padding: 10px 14px;\r\n  color: #4ece39;\r\n  font-size: 18px;\r\n`;\r\n\r\nexport default function Card({ merchant }) {\r\n  let priceLevel = [\"\", \"\", \"\", \"\"];\r\n  const createMarkup = (body) => {\r\n    return { __html: body };\r\n  };\r\n  return (\r\n    <div\r\n      className=\"border pb-2 pb-md-0 w-100 d-block d-md-flex justify-contect-between\"\r\n      style={{ width: \"18rem\" }}\r\n    >\r\n      <div>\r\n        <ImageCover\r\n          src={merchant.coverImageId}\r\n          className=\"card-img-top\"\r\n          alt=\"...\"\r\n        />\r\n      </div>\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">\r\n          {merchant.shopNameTH}{\" \"}\r\n          <span\r\n            className=\"py-1 px-2 text-light rounded ml-2\"\r\n            style={{\r\n              backgroundColor: merchant.isOpen === \"Y\" ? \"#4ece39\" : \"grey\",\r\n              fontSize: \"14px\",\r\n            }}\r\n          >\r\n            {merchant.isOpen === \"Y\" ? \"เปิดอยู่\" : \"ปิดแล้ว\"}\r\n          </span>\r\n        </h5>\r\n        <p className=\"card-text\" style={{ color: \"#afafaf\" }}>\r\n          <span className=\"mr-2\">{merchant.categoryName}</span>|\r\n          <span className=\"mx-2\">\r\n            {priceLevel.map((_, key) => {\r\n              return (\r\n                <span\r\n                  key={key}\r\n                  style={{ color: key < merchant.priceLevel ? \"black\" : \"\" }}\r\n                >\r\n                  ฿\r\n                </span>\r\n              );\r\n            })}\r\n          </span>\r\n          |\r\n          <span className=\"ml-2\">\r\n            {merchant.addressDistrictName} {merchant.addressProvinceName}\r\n          </span>\r\n        </p>\r\n        <div className=\"border w-75\"></div>\r\n        <div className=\"mt-2\">\r\n          <div\r\n            dangerouslySetInnerHTML={createMarkup(merchant.highlightText)}\r\n            className=\"editor\"\r\n          ></div>\r\n        </div>\r\n        <div className=\"mt-1\">\r\n          <b>เมนูแนะนำ: </b>\r\n          <span>\r\n            {merchant.recommendedItems.map((recommended, key) => {\r\n              if (key + 1 !== merchant.recommendedItems.length) {\r\n                return <span key={key}>{recommended}, </span>;\r\n              }\r\n              return <span key={key}>{recommended}</span>;\r\n            })}\r\n          </span>\r\n        </div>\r\n        <div className=\"mt-3\">\r\n          <span>\r\n            {merchant.facilities.map((facility, key) => {\r\n              if (facility === \"ที่จอดรถ\") {\r\n                return (\r\n                  <FacilityIcon className=\"mr-2\">\r\n                    <CarOutlined />\r\n                  </FacilityIcon>\r\n                );\r\n              } else if (facility === \"รับจองล่วงหน้า\") {\r\n                return (\r\n                  <FacilityIcon className=\"mr-2\">\r\n                    <QqOutlined />\r\n                  </FacilityIcon>\r\n                );\r\n              }\r\n              return (\r\n                <FacilityIcon className=\"mr-2\">\r\n                  <FileAddOutlined />\r\n                </FacilityIcon>\r\n              );\r\n            })}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Form, Select, Radio } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nexport default React.memo(function Filter({\r\n  searchFilter,\r\n  category,\r\n  subcategory,\r\n  province,\r\n  price,\r\n  categories,\r\n  provinces,\r\n  prices,\r\n}) {\r\n  const radioStyle = {\r\n    display: \"block\",\r\n    height: \"30px\",\r\n    lineHeight: \"30px\",\r\n  };\r\n  const [form] = Form.useForm();\r\n  form.setFieldsValue({\r\n    category: category,\r\n    province: province,\r\n    price: price,\r\n    subcategory: subcategory,\r\n  });\r\n\r\n  const onFilterCategory = (e) => {\r\n    searchFilter(null, null, e.target.value, \"all\", null);\r\n  };\r\n\r\n  const onFilterProvince = (value) => {\r\n    searchFilter(null, value, null, null, null);\r\n  };\r\n\r\n  const onFilterPrice = (value) => {\r\n    searchFilter(null, null, null, null, value);\r\n  };\r\n\r\n  const onFilterSubCategory = (e) => {\r\n    searchFilter(null, null, null, e.target.value, null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"border p-3\">\r\n      <Form form={form}>\r\n        <div className=\"mb-4\">\r\n          <p>\r\n            <b>ประเภทร้านค้า</b>\r\n          </p>\r\n          <Form.Item name=\"category\">\r\n            <Radio.Group onChange={onFilterCategory}>\r\n              <Radio style={radioStyle} value={\"all\"}>\r\n                ทั้งหมด\r\n              </Radio>\r\n              {categories.map((category, key) => {\r\n                return (\r\n                  <Radio key={key} style={radioStyle} value={key + \"\"}>\r\n                    {category.name}\r\n                  </Radio>\r\n                );\r\n              })}\r\n            </Radio.Group>\r\n          </Form.Item>\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <p>\r\n            <b>จังหวัด/ใกล้ฉัน</b>\r\n          </p>\r\n          <Form.Item name=\"province\">\r\n            <Select style={{ width: \"100%\" }} onChange={onFilterProvince}>\r\n              <Option value=\"all\">สถานที่ทั้งหมด</Option>\r\n              {provinces.map((province, key) => {\r\n                return <Option key={key} value={key + \"\"}>{province}</Option>;\r\n              })}\r\n            </Select>\r\n          </Form.Item>\r\n        </div>\r\n        <div className=\"mb-4\">\r\n          <p>\r\n            <b>ราคา</b>\r\n          </p>\r\n          <Form.Item name=\"price\">\r\n            <Select style={{ width: \"100%\" }} onChange={onFilterPrice}>\r\n              <Option value={\"all\"}>ทั้งหมด</Option>\r\n              {prices.map((pricemap, key) => {\r\n                return <Option key={key}  value={key + \"\"}>{pricemap}</Option>;\r\n              })}\r\n            </Select>\r\n          </Form.Item>\r\n        </div>\r\n        {!category ? (\r\n          <div></div>\r\n        ) : (\r\n          <div>\r\n            {category === \"all\" ? (\r\n              <div></div>\r\n            ) : (\r\n              <div className=\"mb-4\">\r\n                <p>\r\n                  <b>ประเภท{category}</b>\r\n                </p>\r\n                <Form.Item name=\"subcategory\">\r\n                  <Radio.Group onChange={onFilterSubCategory}>\r\n                    <Radio style={radioStyle} value={\"all\"}>\r\n                      ทั้งหมด\r\n                    </Radio>\r\n                    {categories[parseInt(category)].subcategories.map(\r\n                      (subcate, key) => {\r\n                        return (\r\n                          <Radio key={key} style={radioStyle} value={key + \"\"}>\r\n                            {subcate}\r\n                          </Radio>\r\n                        );\r\n                      }\r\n                    )}\r\n                  </Radio.Group>\r\n                </Form.Item>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </Form>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\n//components\nimport Navbar from \"./components/Navbar\";\nimport { Button, Drawer } from \"antd\";\nimport MerchantCard from \"./components/MerchantCard\";\nimport Filter from \"./components/Filter\";\n\nfunction App() {\n  const [loading, setLoading] = useState(true);\n  const [loadingData, setLoadingData] = useState(true);\n  const [category, setCategory] = useState(null);\n  const [subcategory, setSubCategory] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [province, setProvince] = useState(null);\n  const [price, setPrice] = useState(null);\n  const [merchants, setMerchants] = useState(null);\n  const [filter, setFilter] = useState(false);\n  const [visible, setVisible] = useState(false);\n  const [data, setData] = useState(null);\n\n  const showDrawer = () => {\n    setVisible(true);\n  };\n\n  const onClose = () => {\n    setVisible(false);\n  };\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    let searchQueryParam = urlParams.get(\"searchQuery\");\n    let provinceParam = urlParams.get(\"province\");\n    let categoryParam = urlParams.get(\"category\");\n    let subcategoryParam = urlParams.get(\"subcategory\");\n    let priceParam = urlParams.get(\"price\");\n    if (\n      searchQueryParam === null ||\n      provinceParam === null ||\n      categoryParam === null ||\n      subcategoryParam === null ||\n      priceParam === null\n    ) {\n      window.history.pushState(\n        null,\n        \"\",\n        \"?searchQuery=&province=all&category=all&subcategory=all&price=all\"\n      );\n      setFilter(!filter);\n    } else {\n      setCategory(categoryParam);\n      setSearchQuery(searchQueryParam);\n      setProvince(provinceParam);\n      setPrice(priceParam);\n      setSubCategory(subcategoryParam);\n      setMerchantsBySearch(priceParam, provinceParam, searchQueryParam);\n    }\n  }, [filter]);\n\n  const setMerchantsBySearch = async (\n    priceFetch,\n    provinceFetch,\n    searchQueryFetch\n  ) => {\n    let dataFetch = await axios.get(\"https://panjs.com/ywc18.json\").then((res) => {\n      setData(res.data);\n      setLoadingData(false);\n      return res.data\n    });\n    let merchantsQuery = await dataFetch.merchants.filter((merchantmap) => {\n      if (\n        provinceFetch === \"all\" &&\n        searchQueryFetch === \"\" &&\n        priceFetch !== \"all\"\n      ) {\n        return merchantmap.priceLevel - 1 + \"\" === priceFetch;\n      }\n      if (\n        priceFetch === \"all\" &&\n        searchQueryFetch === \"\" &&\n        provinceFetch !== \"all\"\n      ) {\n        return (\n          merchantmap.addressProvinceName ===\n          dataFetch.provinces[parseInt(provinceFetch)]\n        );\n      }\n      if (\n        priceFetch === \"all\" &&\n        provinceFetch === \"all\" &&\n        searchQueryFetch !== \"\"\n      ) {\n        return merchantmap.shopNameTH.search(searchQueryFetch) !== -1;\n      }\n      if (\n        priceFetch !== \"all\" &&\n        provinceFetch !== \"all\" &&\n        searchQueryFetch === \"\"\n      ) {\n        return (\n          merchantmap.addressProvinceName ===\n          dataFetch.provinces[parseInt(provinceFetch)] &&\n          merchantmap.priceLevel - 1 + \"\" === priceFetch\n        );\n      }\n      if (\n        priceFetch !== \"all\" &&\n        searchQueryFetch !== \"\" &&\n        provinceFetch === \"all\"\n      ) {\n        return (\n          merchantmap.shopNameTH.search(searchQueryFetch) !== -1 &&\n          merchantmap.priceLevel - 1 + \"\" === priceFetch\n        );\n      }\n      if (\n        searchQueryFetch !== \"\" &&\n        provinceFetch !== \"all\" &&\n        priceFetch === \"all\"\n      ) {\n        return (\n          merchantmap.addressProvinceName ===\n          dataFetch.provinces[parseInt(provinceFetch)] &&\n          merchantmap.shopNameTH.search(searchQueryFetch) !== -1\n        );\n      }\n      return merchantmap;\n    });\n    setMerchants(merchantsQuery);\n    setLoading(false);\n  };\n\n  const searchFilter = (\n    searchQueryProps,\n    provinceProps,\n    categoryProps,\n    subcategoryProps,\n    priceProps\n  ) => {\n    window.history.pushState(\n      null,\n      \"\",\n      `?searchQuery=${\n        searchQueryProps === null ? searchQuery : searchQueryProps\n      }&province=${\n        provinceProps === null ? province : provinceProps\n      }&category=${\n        categoryProps === null ? category : categoryProps\n      }&subcategory=${\n        subcategoryProps === null ? subcategory : subcategoryProps\n      }&price=${priceProps === null ? price : priceProps}`\n    );\n    setFilter(!filter);\n  };\n\n  if (loadingData) {\n    return <></>;\n  }\n  return (\n    <div>\n      <Navbar\n        searchFilter={searchFilter}\n        searchQuery={searchQuery}\n        province={province}\n        provinces={data.provinces}\n        categories={data.categories}\n        showDrawer={showDrawer}\n      />\n      <Drawer\n        title=\"กรอกผล\"\n        placement=\"right\"\n        closable={false}\n        onClose={onClose}\n        visible={visible}\n      >\n        <Filter\n          searchFilter={searchFilter}\n          category={category}\n          subcategory={subcategory}\n          province={province}\n          price={price}\n          categories={data.categories}\n          provinces={data.provinces}\n          prices={data.priceRange}\n        />\n      </Drawer>\n      <div className=\"container mb-5\">\n        <div className=\"py-3\">\n          ผลการค้นหา{\" \"}\n          {category === \"all\" || !category\n            ? \"\"\n            : data.categories[parseInt(category)].name}{\" \"}\n          ทั้งหมด\n        </div>\n        <div className=\"col-12\">\n          <div className=\"row\">\n            <div className=\"col-md-4 d-none d-md-block\">\n              <Filter\n                searchFilter={searchFilter}\n                category={category}\n                subcategory={subcategory}\n                province={province}\n                price={price}\n                categories={data.categories}\n                provinces={data.provinces}\n                prices={data.priceRange}\n              />\n            </div>\n            {loading ? (\n              <div>Loading...</div>\n            ) : (\n              <div className=\"col-12 col-md-8\">\n                {merchants.length === 0 ? (\n                  <div className=\"text-center pt-5\">\n                    <h1>ไม่พบสถานที่ที่คุณกำลังหา</h1>\n                    ร้านค้าที่ท่านค้นหาอาจไม่ได้เข้าร่วมโครงการ คนละครึ่ง\n                  </div>\n                ) : (\n                  <>\n                    {merchants.map((merchant, key) => {\n                      return (\n                        <div key={key} className=\"mb-2\">\n                          <MerchantCard merchant={merchant} />\n                        </div>\n                      );\n                    })}\n                    <div className=\"container text-center mt-4\">\n                      <Button className=\"col-12 col-md-4\">ดูเพิ่มเติม</Button>\n                    </div>\n                  </>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { createGlobalStyle } from \"styled-components\";\nimport 'antd/dist/antd.css';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    margin: 0\n  }\n  .anticon {\n    vertical-align: 0em;\n  }\n`;\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalStyle />\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}